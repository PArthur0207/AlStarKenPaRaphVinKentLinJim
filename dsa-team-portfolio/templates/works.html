{% extends 'base.html' %}

{% block content %}
<section class="works-section">
  <div class="container">
    <header class="works-header">
      <h2 class="gradient-text">OUR PROGRAMS</h2>
      <p class="subtitle">made by us truly</p>
    </header>

    <div class="works-grid">
      {% if works %}
        {% for p in works %}
          <div class="work-card">
            <h3 class="work-title gradient-text">{{ p.title }}</h3>
            <p class="work-desc">{{ p.description }}</p>
            {% if p.url %}
              <div class="work-action">
                <a href="{{ p.url }}" class="try-button">Open</a>
              </div>
            {% endif %}
          </div>
        {% endfor %}
      {% else %}
        <p class="empty-text">No works found yet. Add entries to <code>data/projects.json</code>.</p>
      {% endif %}
    </div>
  </div>
</section>
<!-- Binary Tree Operations Section (anchored minimally under works display) -->
<hr>
<section class="binary-tree-section">
  <h2>Binary Tree Operations</h2>

  <!-- Search Node Form -->
  <form action="{{ url_for('tree_page') }}" method="POST">
    <div>
      <label for="search_value">Search Node:</label>
      <input type="text" id="search_value" name="search_value" placeholder="Enter value to search" required>
      <button type="submit" name="search_node">Search</button>
    </div>
  </form>

  <!-- Post-Order Traversal Form -->
  <form action="{{ url_for('tree_page') }}" method="POST">
    <div>
      <button type="submit" name="post_traversal">Run Post-Order Traversal</button>
    </div>
  </form>
  {% if traversal %}
    <div>
      <p>Post-Order Traversal Result: {{ traversal }}</p>
    </div>
  {% endif %}

  <!-- Delete Node Form -->
  <form action="{{ url_for('tree_page') }}" method="POST">
    <div>
      <label for="delete_value">Delete Node:</label>
      <input type="text" id="delete_value" name="delete_value" placeholder="Enter value to delete" required>
      <button type="submit" name="delete_node">Delete</button>
    </div>
  </form>

  {% if message %}
    <p>{{ message }}</p>
  {% endif %}
</section>
{% endblock %}
